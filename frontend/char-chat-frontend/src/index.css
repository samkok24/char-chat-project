@import "tailwindcss";

@layer utilities {
  .border {
    border-width: 1px;
  }

  /* 브랜드 컬러 버튼 (보라 배경, 흰 아이콘/텍스트) */
  .btn-brand {
    background-color: #7c3aed; /* purple-600 */
    color: #ffffff;
  }
  .btn-brand:hover { background-color: #6d28d9; } /* purple-700 */
  .btn-brand:disabled { opacity: .6; }

  /* 흰 배경 버튼 + 검정 아이콘(애스터리스크 용) */
  .btn-asterisk {
    background-color: #ffffff;
    color: #111827; /* gray-900 */
    border: 1px solid #111827; /* 검은 테두리 */
  }
  .btn-asterisk:hover { background-color: rgba(255,255,255,.85); }
  .streaming-cursor {
    display: inline-block;
    width: 8px;
    height: 1em;
    background-color: currentColor;
    animation: blink 1s step-end infinite;
    margin-left: 2px;
  }
  @keyframes blink {
    50% {
      opacity: 0;
    }
  }
  
  /* 다크 테마 세련된 스크롤바 */
  .scrollbar-dark::-webkit-scrollbar {
    width: 10px;
    height: 10px;
  }
  .scrollbar-dark::-webkit-scrollbar-track {
    background: transparent;
    margin: 8px 0; /* 상하 여백 */
  }
  .scrollbar-dark::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.12); /* 반투명 흰색 */
    border-radius: 10px;
    border: 2px solid transparent;
    background-clip: padding-box;
    transition: background 0.2s ease;
  }
  .scrollbar-dark::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.24); /* 호버 시 더 밝게 */
    border-radius: 10px;
    border: 2px solid transparent;
    background-clip: padding-box;
  }
  .scrollbar-dark::-webkit-scrollbar-thumb:active {
    background: rgba(168, 85, 247, 0.5); /* 클릭 시 보라색 */
  }
  
  /* 피드 페이지 전용 스크롤바 (가로 스크롤 숨김) */
  .scrollbar-feed::-webkit-scrollbar {
    width: 10px;
    height: 0px; /* 가로 스크롤바 숨김 */
  }
  .scrollbar-feed::-webkit-scrollbar-track {
    background: transparent;
    margin: 8px 0;
  }
  .scrollbar-feed::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.12);
    border-radius: 10px;
    border: 2px solid transparent;
    background-clip: padding-box;
    transition: background 0.2s ease;
  }
  .scrollbar-feed::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.24);
    border-radius: 10px;
    border: 2px solid transparent;
    background-clip: padding-box;
  }
  .scrollbar-feed::-webkit-scrollbar-thumb:active {
    background: rgba(168, 85, 247, 0.5);
  }
  .scrollbar-feed::-webkit-scrollbar:horizontal {
    display: none;
  }
  
  /* 하이라이트 플래시 효과 (내 서랍에서 스크롤 시) */
  .highlight-flash {
    animation: flash 2s ease-in-out;
    border-radius: 8px;
  }
  
  @keyframes flash {
    0%, 100% { 
      background: transparent; 
    }
    50% { 
      background: rgba(168, 85, 247, 0.3);
      box-shadow: 0 0 16px rgba(168, 85, 247, 0.4);
    }
  }
  
  /* 🆕 인스타그램 스토리 스타일 글로우 애니메이션 */
  @keyframes instagram-glow {
    0%, 100% {
      box-shadow: 0 0 20px rgba(168, 85, 247, 0.8),
                  0 0 40px rgba(168, 85, 247, 0.4),
                  inset 0 0 10px rgba(168, 85, 247, 0.3);
    }
    50% {
      box-shadow: 0 0 30px rgba(168, 85, 247, 1),
                  0 0 60px rgba(168, 85, 247, 0.6),
                  inset 0 0 15px rgba(168, 85, 247, 0.5);
    }
  }
  
  /* 글로우 활성화 클래스 (발행 버튼 클릭 시 적용) */
  .instagram-glow-active {
    position: relative;
  }
  
  .glow-active > div {
    animation: instagram-glow 2s ease-in-out infinite !important;
    box-shadow: 0 0 20px rgba(168, 85, 247, 0.8),
                0 0 40px rgba(168, 85, 247, 0.4) !important;
    border: 4px solid rgba(168, 85, 247, 1) !important;
    border-radius: 50% !important;
  }
  /* Firefox - 세련된 스크롤바 */
  .scrollbar-dark {
    scrollbar-width: thin;
    scrollbar-color: rgba(255, 255, 255, 0.12) transparent;
  }
  .scrollbar-feed {
    scrollbar-width: thin;
    scrollbar-color: rgba(255, 255, 255, 0.12) transparent;
  }

  /* 스크롤바 숨기기 */
  .scrollbar-hide {
    -ms-overflow-style: none;  /* IE and Edge */
    scrollbar-width: none;  /* Firefox */
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;  /* Chrome, Safari and Opera */
  }

  /* 테마 변수 (안전 최소치: 배경/텍스트/헤더/푸터) */
  :root,
  [data-theme="dark"] {
    --app-bg: #000000;
    --app-fg: #ffffff;
    --header-bg: #000000;
    --footer-bg: #000000;
    --hover-bg: rgba(255,255,255,.1);
    --input-bg: #111827; /* gray-900 */
    --input-border: #374151; /* gray-700 */
    --input-fg: #ffffff;
  }
  [data-theme="light"] {
    --app-bg: #f8fafc; /* slate-50 */
    --app-fg: #0b0b0b; /* very dark */
    --header-bg: #ffffff;
    --footer-bg: #ffffff;
    --hover-bg: rgba(0,0,0,.06);
    --input-bg: #ffffff;
    --input-border: #111827; /* black */
    --input-fg: #111827;
  }
}
