@import "tailwindcss";

/**
 * âœ… Pretendard Variable ë¡œë“œ
 *
 * ì£¼ì˜:
 * - @font-faceëŠ” ì¼ë¶€ í™˜ê²½ì—ì„œ @layer ë‚´ë¶€ì— ë„£ìœ¼ë©´ ë¬´ì‹œë˜ëŠ” ì¼€ì´ìŠ¤ê°€ ìˆì–´,
 *   ìµœìƒë‹¨(ë ˆì´ì–´ ë°–)ì— ë‘¬ì„œ í•­ìƒ ë“±ë¡ë˜ê²Œ í•œë‹¤.
 */
@font-face {
  font-family: "Pretendard Variable";
  src: url("/fonts/PretendardVariable.woff2") format("woff2");
  font-weight: 45 920;
  font-style: normal;
  font-display: swap;
}

@layer base {
  /**
   * âœ… ì „ì—­ í°íŠ¸ íŒ¨ë°€ë¦¬(SSOT)
   *
   * ì˜ë„/ì›ë¦¬:
   * - ì‚¬ì´íŠ¸ ì „ì²´ UI(í…ìŠ¤íŠ¸/ë²„íŠ¼/ì…ë ¥/ëª¨ë‹¬)ì˜ ê¸°ë³¸ í°íŠ¸ë¥¼ í•˜ë‚˜ë¡œ í†µì¼í•œë‹¤.
   * - í°íŠ¸ëŠ” "ì•ì— ìˆëŠ” ê²ƒë¶€í„°" ë¡œë“œ/ì„¤ì¹˜ ì—¬ë¶€ì— ë”°ë¼ ìë™ í´ë°±ëœë‹¤.
   *
   * ì£¼ì˜:
   * - PretendardëŠ” ì´ ì„ ì–¸ë§Œìœ¼ë¡œ ìë™ ë‹¤ìš´ë¡œë“œë˜ì§€ ì•ŠëŠ”ë‹¤(ì‹¤ì œ ë¡œë“œê°€ ì—†ìœ¼ë©´ OS ê¸°ë³¸ í°íŠ¸ë¡œ í´ë°±ë¨).
   */
  html,
  body {
    /* âœ… Tailwind preflight(body í°íŠ¸) ë®ì–´ì“°ê¸°: ì „ì—­ SSOT */
    font-family: "Pretendard Variable", Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto,
      "Helvetica Neue", "Segoe UI", "Apple SD Gothic Neo", "Noto Sans KR", "Malgun Gothic",
      "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif !important;
  }

  /* âœ… form ì»¨íŠ¸ë¡¤ê¹Œì§€ ê°•ì œ ìƒì†(ë¸Œë¼ìš°ì €/ë¦¬ì…‹ ì°¨ì´ ë°©ì–´) */
  button,
  input,
  textarea,
  select {
    font-family: inherit !important;
  }
}

@layer utilities {
  .border {
    border-width: 1px;
  }

  /* ë¸Œëœë“œ ì»¬ëŸ¬ ë²„íŠ¼ (ë³´ë¼ ë°°ê²½, í° ì•„ì´ì½˜/í…ìŠ¤íŠ¸) */
  .btn-brand {
    background-color: #7c3aed; /* purple-600 */
    color: #ffffff;
  }
  .btn-brand:hover { background-color: #6d28d9; } /* purple-700 */
  .btn-brand:disabled { opacity: .6; }

  /* í° ë°°ê²½ ë²„íŠ¼ + ê²€ì • ì•„ì´ì½˜(ì• ìŠ¤í„°ë¦¬ìŠ¤í¬ ìš©) */
  .btn-asterisk {
    background-color: #ffffff;
    color: #111827; /* gray-900 */
    border: 1px solid #111827; /* ê²€ì€ í…Œë‘ë¦¬ */
  }
  .btn-asterisk:hover { background-color: rgba(255,255,255,.85); }
  .streaming-cursor {
    display: inline-block;
    width: 8px;
    height: 1em;
    background-color: currentColor;
    animation: blink 1s step-end infinite;
    margin-left: 2px;
  }
  @keyframes blink {
    50% {
      opacity: 0;
    }
  }

  /* íƒ­ í”„ë¡œëª¨ì…˜ ë§í’ì„ : ë‘¥ë‘¥ ë– ë‹¤ë‹ˆëŠ” ì• ë‹ˆë©”ì´ì…˜ */
  @keyframes cc-float {
    0%, 100% { transform: translate3d(0, 0, 0); }
    50% { transform: translate3d(0, -6px, 0); }
  }
  .cc-float {
    animation: cc-float 2.8s ease-in-out infinite;
    will-change: transform;
  }
  .cc-float-2 {
    animation: cc-float 3.4s ease-in-out infinite;
    animation-delay: .35s;
    will-change: transform;
  }
  @media (prefers-reduced-motion: reduce) {
    .cc-float,
    .cc-float-2 {
      animation: none !important;
    }
  }
  
  /* ë‹¤í¬ í…Œë§ˆ ì„¸ë ¨ëœ ìŠ¤í¬ë¡¤ë°” */
  .scrollbar-dark {
    scrollbar-gutter: stable; /* ìŠ¤í¬ë¡¤ë°” ê³µê°„ í•­ìƒ ì˜ˆì•½í•˜ì—¬ ë ˆì´ì•„ì›ƒ í”ë“¤ë¦¼ ë°©ì§€ */
  }

  /**
   * âœ… ê²½ìŸì‚¬ ê²©ì íƒ€ì´í¬ í† í°(ìš”êµ¬ì‚¬í•­)
   *
   * ì˜ë„/ì›ë¦¬:
   * - `CharacterCard` ê²©ì ë””ìì¸ì„ ê²½ìŸì‚¬ì™€ ë™ì¼í•œ í´ë˜ìŠ¤ëª…ìœ¼ë¡œ ë§ì¶”ê¸° ìœ„í•´,
   *   í”„ë¡œì íŠ¸ ì „ì—­ì—ì„œ ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ìµœì†Œ í† í°ë§Œ ìœ í‹¸ë¡œ ì œê³µí•œë‹¤(SSOT).
   */
  .text-content-primary { color: #ffffff; }
  .text-content-tertiary { color: rgba(255, 255, 255, 0.72); }
  .text-M\/14 { font-size: 14px; line-height: 14px; }
  .text-M\/12 { font-size: 12px; line-height: 12px; }
  .bg-chip-normal { background: rgba(0, 0, 0, 0.35); }
  /* âœ… ê²©ì(ì •ì‚¬ê°í˜•)ì—ì„œ ì–¼êµ´ì´ ì˜ ë‚˜ì˜¤ë„ë¡ ìƒë‹¨ ê¸°ì¤€ í¬ë¡­ */
  .cc-grid-face-crop { object-position: 50% 12%; }
  .scrollbar-dark::-webkit-scrollbar {
    width: 10px;
    height: 10px;
  }
  .scrollbar-dark::-webkit-scrollbar-track {
    background: transparent;
    margin: 8px 0; /* ìƒí•˜ ì—¬ë°± */
  }
  .scrollbar-dark::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.12); /* ë°˜íˆ¬ëª… í°ìƒ‰ */
    border-radius: 10px;
    border: 2px solid transparent;
    background-clip: padding-box;
    transition: background 0.2s ease;
  }
  .scrollbar-dark::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.24); /* í˜¸ë²„ ì‹œ ë” ë°ê²Œ */
    border-radius: 10px;
    border: 2px solid transparent;
    background-clip: padding-box;
  }
  .scrollbar-dark::-webkit-scrollbar-thumb:active {
    background: rgba(168, 85, 247, 0.5); /* í´ë¦­ ì‹œ ë³´ë¼ìƒ‰ */
  }
  
  /* í”¼ë“œ í˜ì´ì§€ ì „ìš© ìŠ¤í¬ë¡¤ë°” (ê°€ë¡œ ìŠ¤í¬ë¡¤ ìˆ¨ê¹€) */
  .scrollbar-feed::-webkit-scrollbar {
    width: 10px;
    height: 0px; /* ê°€ë¡œ ìŠ¤í¬ë¡¤ë°” ìˆ¨ê¹€ */
  }
  .scrollbar-feed::-webkit-scrollbar-track {
    background: transparent;
    margin: 8px 0;
  }
  .scrollbar-feed::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.12);
    border-radius: 10px;
    border: 2px solid transparent;
    background-clip: padding-box;
    transition: background 0.2s ease;
  }
  .scrollbar-feed::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.24);
    border-radius: 10px;
    border: 2px solid transparent;
    background-clip: padding-box;
  }
  .scrollbar-feed::-webkit-scrollbar-thumb:active {
    background: rgba(168, 85, 247, 0.5);
  }
  .scrollbar-feed::-webkit-scrollbar:horizontal {
    display: none;
  }
  
  /* í•˜ì´ë¼ì´íŠ¸ í”Œë˜ì‹œ íš¨ê³¼ (ë‚´ ì„œëì—ì„œ ìŠ¤í¬ë¡¤ ì‹œ) */
  .highlight-flash {
    animation: flash 2s ease-in-out;
    border-radius: 8px;
  }
  
  @keyframes flash {
    0%, 100% { 
      background: transparent; 
    }
    50% { 
      background: rgba(168, 85, 247, 0.3);
      box-shadow: 0 0 16px rgba(168, 85, 247, 0.4);
    }
  }
  
  /* ğŸ†• ì¸ìŠ¤íƒ€ê·¸ë¨ ìŠ¤í† ë¦¬ ìŠ¤íƒ€ì¼ ê¸€ë¡œìš° ì• ë‹ˆë©”ì´ì…˜ */
  @keyframes instagram-glow {
    0%, 100% {
      box-shadow: 0 0 20px rgba(168, 85, 247, 0.8),
                  0 0 40px rgba(168, 85, 247, 0.4),
                  inset 0 0 10px rgba(168, 85, 247, 0.3);
    }
    50% {
      box-shadow: 0 0 30px rgba(168, 85, 247, 1),
                  0 0 60px rgba(168, 85, 247, 0.6),
                  inset 0 0 15px rgba(168, 85, 247, 0.5);
    }
  }

  /* âœ… í”„ë¡œí•„ ì†Œì¬ì¹©: ì´ë¯¸ì§€ ê¸°ë°˜ ì¶”ì²œ í•˜ì´ë¼ì´íŠ¸(ì€ì€í•œ í„ìŠ¤) */
  @keyframes cc-chip-suggested {
    0%, 100% {
      box-shadow: 0 0 0 rgba(168, 85, 247, 0);
      border-color: rgba(168, 85, 247, 0.35);
    }
    50% {
      box-shadow: 0 0 18px rgba(168, 85, 247, 0.35);
      border-color: rgba(168, 85, 247, 0.85);
    }
  }
  .cc-chip-suggested {
    animation: cc-chip-suggested 1.8s ease-in-out infinite;
  }
  @media (prefers-reduced-motion: reduce) {
    .cc-chip-suggested { animation: none !important; }
  }

  /**
   * âœ… ì´ë¯¸ì§€ ê¸°ë°˜ ì¶”ì²œ ì¹© í•˜ì´ë¼ì´íŠ¸(ì˜¨ë³´ë”© ëª¨ë‹¬)
   *
   * ì˜ë„/ì›ë¦¬:
   * - ë°±ì—”ë“œê°€ ì´ë¯¸ì§€ì—ì„œ ë½‘ì€ ì•µì»¤ í‚¤ì›Œë“œë¥¼ ë‚´ë ¤ì£¼ë©´, í•´ë‹¹ í‚¤ì›Œë“œì™€ ë§¤ì¹­ë˜ëŠ” ì†Œì¬ ì¹©ì„ ì€ì€í•˜ê²Œ ê°•ì¡°í•œë‹¤.
   * - ì„ íƒ(active) ìƒíƒœ UIëŠ” ê¸°ì¡´ëŒ€ë¡œ ìœ ì§€í•˜ê³ , "ë¹„ì„ íƒ" ì¹©ì—ë§Œ ì ìš©í•œë‹¤(ê³¼í•œ ê°•ì¡° ë°©ì§€).
   */
  @keyframes cc-vision-pulse {
    0%, 100% {
      box-shadow: 0 0 0 rgba(168, 85, 247, 0);
      border-color: rgba(168, 85, 247, 0.45);
    }
    50% {
      box-shadow: 0 0 18px rgba(168, 85, 247, 0.30);
      border-color: rgba(168, 85, 247, 0.75);
    }
  }
  .cc-vision-chip {
    border-color: rgba(168, 85, 247, 0.55) !important;
    background: rgba(168, 85, 247, 0.10) !important;
    color: rgba(255, 255, 255, 0.92) !important;
    animation: cc-vision-pulse 1.6s ease-in-out infinite;
  }
  @media (prefers-reduced-motion: reduce) {
    .cc-vision-chip {
      animation: none !important;
    }
  }
  
  /* ê¸€ë¡œìš° í™œì„±í™” í´ë˜ìŠ¤ (ë°œí–‰ ë²„íŠ¼ í´ë¦­ ì‹œ ì ìš©) */
  .instagram-glow-active {
    position: relative;
  }
  
  .glow-active > div {
    animation: instagram-glow 2s ease-in-out infinite !important;
    box-shadow: 0 0 20px rgba(168, 85, 247, 0.8),
                0 0 40px rgba(168, 85, 247, 0.4) !important;
    border: 4px solid rgba(168, 85, 247, 1) !important;
    border-radius: 50% !important;
  }
  /* Firefox - ì„¸ë ¨ëœ ìŠ¤í¬ë¡¤ë°” */
  .scrollbar-dark {
    scrollbar-width: thin;
    scrollbar-color: rgba(255, 255, 255, 0.12) transparent;
  }
  .scrollbar-feed {
    scrollbar-width: thin;
    scrollbar-color: rgba(255, 255, 255, 0.12) transparent;
  }

  /* ìŠ¤í¬ë¡¤ë°” ìˆ¨ê¸°ê¸° */
  .scrollbar-hide {
    -ms-overflow-style: none;  /* IE and Edge */
    scrollbar-width: none;  /* Firefox */
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;  /* Chrome, Safari and Opera */
  }

  /* í…Œë§ˆ ë³€ìˆ˜ (ì•ˆì „ ìµœì†Œì¹˜: ë°°ê²½/í…ìŠ¤íŠ¸/í—¤ë”/í‘¸í„°) */
  :root,
  [data-theme="dark"] {
    --app-bg: #000000;
    --app-fg: #ffffff;
    --header-bg: #000000;
    --footer-bg: #000000;
    --hover-bg: rgba(255,255,255,.1);
    --input-bg: #111827; /* gray-900 */
    --input-border: #374151; /* gray-700 */
    --input-fg: #ffffff;
    /* âœ… ë ˆì´ì•„ì›ƒ SSOT: í˜ì´ì§€ ìµœëŒ€ í­(ê²½ìŸì‚¬ ìŠ¤íƒ€ì¼ ìœ„ì €ë“œ ë ˆì´ì•„ì›ƒì— ì‚¬ìš©) */
    --page-max-width: 1200px;
  }
  [data-theme="light"] {
    --app-bg: #f8fafc; /* slate-50 */
    --app-fg: #0b0b0b; /* very dark */
    --header-bg: #ffffff;
    --footer-bg: #ffffff;
    --hover-bg: rgba(0,0,0,.06);
    --input-bg: #ffffff;
    --input-border: #111827; /* black */
    --input-fg: #111827;
  }

  /**
   * âœ… ì±„íŒ… ë§í’ì„ : HTML ë¦¬ìŠ¤íŠ¸(ul/ol/li) ê°€ë…ì„± ìŠ¤íƒ€ì¼
   *
   * ì˜ë„/ì›ë¦¬:
   * - AIê°€ `<ul><li>...</li></ul>` í˜•íƒœë¡œ ì‘ë‹µí•  ë•Œ ë§í’ì„  ì•ˆì—ì„œ ìì—°ìŠ¤ëŸ½ê²Œ ë³´ì´ë„ë¡ spacing/ë¶ˆë¦¿ì„ ë¶€ì—¬í•œë‹¤.
   * - í…ìŠ¤íŠ¸ ìƒ‰ì€ ë§í’ì„  ìƒìœ„ ìš”ì†Œì˜ colorë¥¼ ê·¸ëŒ€ë¡œ ìƒì†í•œë‹¤(í…Œë§ˆ/ìºë¦­í„° ìƒ‰ ìœ ì§€).
   */
  .message-rich { white-space: pre-wrap; }
  .message-rich ul,
  .message-rich ol {
    padding-left: 1.25rem;
    margin: 0.25rem 0;
    list-style-position: outside;
  }
  .message-rich ul { list-style-type: disc; }
  .message-rich ol { list-style-type: decimal; }
  .message-rich li { margin: 0.125rem 0; }
  .message-rich p { margin: 0.25rem 0; }
  .message-rich a { text-decoration: underline; text-underline-offset: 2px; }
  .message-rich a:hover { opacity: 0.92; }
  .message-rich code {
    padding: 0 0.25rem;
    border-radius: 0.25rem;
    background: rgba(0,0,0,0.08);
  }
  [data-theme="dark"] .message-rich code {
    background: rgba(255,255,255,0.10);
  }
  .message-rich img {
    display: block;
    max-width: 100%;
    height: auto;
    margin: 0.35rem 0;
    border-radius: 0.75rem;
    border: 1px solid rgba(255,255,255,0.12);
    cursor: zoom-in;
  }

  /**
   * âœ… ì±„íŒ… ë§í’ì„ : í‘œ(table) ê°€ë…ì„± ìŠ¤íƒ€ì¼(ìš”êµ¬ì‚¬í•­)
   *
   * ì˜ë„/ì›ë¦¬:
   * - ëª¨ë¸ì´ `<table><tr><td>..</td></tr></table>` í˜•íƒœë¡œ ì‘ë‹µí•´ë„ ë§í’ì„ ì—ì„œ ê¹¨ì§€ì§€ ì•Šê²Œ í•œë‹¤.
   * - height ì œí•œ ì—†ì´ "ì›¹íˆ°í˜•" ì´ë¯¸ì§€ì²˜ëŸ¼ ì„¸ë¡œë¡œ ê¸¸ì–´ì ¸ë„ ìì—°ìŠ¤ëŸ½ê²Œ ìŠ¤í¬ë¡¤ë˜ê²Œ í•œë‹¤.
   * - í…Œë§ˆëŠ” ìƒìœ„ ë§í’ì„ ì˜ ìƒ‰ì„ ìƒì†í•˜ë˜, í…Œì´ë¸”ì€ ê°€ë…ì„± ìœ„í•´ ë°˜íˆ¬ëª… ë°°ê²½/í…Œë‘ë¦¬ë§Œ ì¤€ë‹¤.
   */
  .message-rich table {
    width: 100%;
    max-width: 100%;
    border-collapse: collapse;
    margin: 0.35rem 0;
    overflow: hidden;
    border-radius: 0.75rem;
    border: 1px solid rgba(255,255,255,0.12);
    background: rgba(255,255,255,0.04);
  }
  [data-theme="light"] .message-rich table {
    border: 1px solid rgba(0,0,0,0.10);
    background: rgba(0,0,0,0.02);
  }
  .message-rich th,
  .message-rich td {
    border: 1px solid rgba(255,255,255,0.10);
    padding: 0.5rem 0.6rem;
    vertical-align: top;
  }
  [data-theme="light"] .message-rich th,
  [data-theme="light"] .message-rich td {
    border: 1px solid rgba(0,0,0,0.08);
  }
  .message-rich th {
    font-weight: 700;
    background: rgba(255,255,255,0.06);
  }
  [data-theme="light"] .message-rich th {
    background: rgba(0,0,0,0.04);
  }

  /**
   * âœ… ì±„íŒ… í°íŠ¸ SSOT (ChatPage ì „ìš©)
   *
   * ë°°ê²½:
   * - ChatPageì—ì„œ `font-sans`/`font-serif` ìœ í‹¸ì„ ì“°ë©´ Tailwind ê¸°ë³¸ í°íŠ¸ ìŠ¤íƒì´ ì ìš©ë˜ì–´
   *   Pretendardê°€ ì•„ë‹Œ í°íŠ¸ë¡œ ë³´ì¼ ìˆ˜ ìˆë‹¤.
   * - ë”°ë¼ì„œ ì±„íŒ… ì˜ì—­ì€ ëª…ì‹œì ìœ¼ë¡œ Pretendardë¥¼ ì‚¬ìš©í•œë‹¤.
   */
  .cc-chat-pretendard {
    font-family: "Pretendard Variable", Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto,
      "Helvetica Neue", "Segoe UI", "Apple SD Gothic Neo", "Noto Sans KR", "Malgun Gothic",
      "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif !important;
  }
  .cc-chat-serif {
    font-family: ui-serif, Georgia, Cambria, "Times New Roman", Times, "Noto Serif KR", Batang, serif !important;
  }

  /**
   * âœ… ëª¨ë°”ì¼(íŠ¹íˆ ìŠ¤í…Œì´ì§€ ë°°ê²½ ì´ë¯¸ì§€)ì—ì„œ "ëŒ€ì‚¬ ë§í’ì„ " ê°€ë…ì„± ë³´ì •
   *
   * ë°°ê²½:
   * - ëª¨ë°”ì¼ì€ ìºë¦­í„° ì´ë¯¸ì§€ê°€ ë°°ê²½(ìŠ¤í…Œì´ì§€)ë¡œ ì˜¬ë¼ê°€ë©°, ì–´ë‘ìš´/ë°ì€ êµ¬ê°„ì´ ì„ì¸ë‹¤.
   * - íˆ¬ëª… ë§í’ì„  + í° ê¸€ì”¨ëŠ” ë°ì€ ë°°ê²½ êµ¬ê°„ì—ì„œ ê°€ë…ì„±ì´ ê¸‰ê²©íˆ ë–¨ì–´ì§ˆ ìˆ˜ ìˆë‹¤.
   *
   * ì •ì±…(ìš”êµ¬ì‚¬í•­):
   * - ì§€ë¬¸(ë‚˜ë ˆì´ì…˜) ë°•ìŠ¤ëŠ” íšŒìƒ‰ ë°°ê²½ + í°ìƒ‰ ê¸€ì”¨ë¥¼ ìœ ì§€í•œë‹¤.
   * - ëŒ€ì‚¬ ë§í’ì„ ì€ ëª¨ë°”ì¼ì—ì„œ "ë°ì€ ë°˜íˆ¬ëª… ë°°ê²½ + ê²€ì€ ê¸€ì”¨"ë¡œ ê°•ì œí•´ ì•ˆì •ì ìœ¼ë¡œ ì½íˆê²Œ í•œë‹¤.
   */
  @media (max-width: 639px) {
    [data-theme="dark"] .cc-assistant-speech-bubble {
      background: rgba(255, 255, 255, 0.78) !important;
      border-color: rgba(0, 0, 0, 0.10) !important;
      color: #0b0b0b !important;
    }
  }
}
